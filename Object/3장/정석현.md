# Object 3장

# 3장. 역할, 책임, 협력

객체지향의 본질은 협력하는 객체들의 공동체를 장조하는 것이다.

역할, 책임, 협력이 제자리르 찾지 못한 상태라면 응집도 높은 클래스와 중복 없는 상속 계층을 구현한다고 하더라도 애플리케이션이 침몰하는 것을 구원하지 못할 것이다.

애플리케이션의 기능을 구현하기 위해 수행하는 상호작용을 `협력`이라고 한다. 객체가 협력에 참여하기 위해 수행하는 로직은 `책임`이라고 부른다. 객체들이 협력 안에서 수행하는 책임들이 모여 객체가 수행하는 `역할`을 구성한다.

## 협력

- 객체는 다른 객체의 상세한 내부 구현에 직접 접근할 수 없기 때문에 오직 `메시지 전송`을 통해서만 자신의 요청을 전달할 수 있다.
- 객체의 자율성을 보장하기 위해서는 필요한 정보에 기반한 행동을 모아 놓아야 한다.
- 결과적으로 객체를 자율적으로 만드는 가장 기본적인 방법은 `캡슐화`다
- 협력은 객체를 설계하는데 필요한 문맥(context)을 제공한다.

## 책임

- 아는 것, 하는 것 → 두 가지 범주로 나누어 세분화
- 정보 전문가에게 `책임`을 할당하자. -> 책임 주도 설계
- 메세지가 객체를 선택한다.
  - 필요한 메세지가 식별될 때까지 객체의 퍼블릭 인터페이스에 어떤것도 추가하지 않기 때문에 `필요한 크기의 퍼블릭 인터페이스`를 가질 수 있다.
  - `추상적인 인터페이스`를 가질 수 있게 된다
- 행동이 상태를 결정한다.
  - 객체의 행동이 아니라 상태에 초점을 맞추는 `데이터 주도 설계는 캡슐화를 저해한다.`
  - 객체는 협력에 필요한 행동을 제공한다.

## 역할

- 객체가 어떤 특정한 협력 안에서 수행하는 책임의 집합을 `역할`이라 부른다
- 역할을 정하고 필요한 객체를 찾는다. → `역할에게 책임을 할당`
- 역할을 통해 유연하고 재사용 가능한 협력을 얻는다.
  - 역할이란 교체할 수 있는 책임의 집합이다.
  -

### 객체 VS 역할

- 적합한 책임을 수행하는 대상이 한 종류라면 간단하게 객체로 간주
- 여러 종류라면 역할
- 초반 설계에서는 객체로 시작해 필요할 때 역할을 분리해 설계하자

## 역할과 추상화

- 추상화를 사용하면 정책을 상위 수준에서 단순화 할 수 있고, 설계가 좀 더 유연해진다.
  - 따라서 추상화가 가지는 두 가지 장점은 협력의 관점에서 역할에도 동일하게 적용될 수 있다.