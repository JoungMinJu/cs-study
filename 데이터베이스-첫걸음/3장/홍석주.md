# 3장 정리

## 왜 우리는 시스템에 돈을 내느가

- 시스템을 만드는 이유는 무엇일까? 좋은 서비스를 고객들에게 제공하는 것, 최종적으론 돈을 벌기 위함

## 데이터베이스 초기 비용

시스템을 구성할 때 발생하는 비용은 크게 두 가지로 나눌 수 있음

- 초기비용: 최초에 지급하는 돈. ex) 하드웨어 구매비용, 엔지니어나 프로그래머의 급여 등
- 운영비용: 서비스를 이용하는 기간에 계속해서 지급하는 돈. ex) 시스템 가동 후 장애 대응비, 유지보수 비용 등

데이터베이스의 초기 비용의 경우에는 소프트웨어 라이선스 요금이 들며, 하드웨어 성능에 따라 책정하는 `프로세서 라이선스`와 DBMS를 이용하는 사용자 수에 따라 결정되는 `사용자 라이선스`가 존재한다. 경우를 잘 파악해서 적절한 라이선스를 도입해야 한다.

## 초기비용을 늘리는 범인

초기비용이 늘어나는 요소로 에디션과 옵션을 들 수 있다. 잘못된 에디션이나 옵션 선택으로 인해 사용하지도 않는 불필요한 기능이 탑재되어 비용만 더 나갈 수 있으니 잘 파악하고 활용해야 한다. 엔터프라이즈 에디션의 경우에 아래와 같은 기능들을 제공할 수 있다.

- 신뢰성(가용성)
  - 클러스터 구성
  - 리플리케이션

- 성능
  - 일정 수량 이상의 프로세서 기술지원(서포트)
  - 테이블 파티셔닝
  - 성능 리포트 출력
  - 데이터 압축

- 보안
  - 데이터 암호화
  - 감사로그 기록

## 데이터베이스의 운영 비용

운영비용은 기간이 정해진 비용으로 `월 단위 또는 연 단위 얼마`로 정기적으로 발생하는 비용을 의미함. 데이터베이스에서 운영비용이 필요한 이유는 `기술지원 비용` 때문임. 유료 데이터베이스를 사용하다보며 크래시가 날 수 있는데, 이는 데이터베이스 개발자의 지원없이 해결하긴 어렵기에 관리비를 내는 개념으로 보면 된다. 또한 기술지원을 지출함으로써 장애 발생 시 `책임의 분산` 같은 보험적인 역할을 한다.

기술지원 서포트가 종료하는 타이밍을 EOSL(End of Servie Life)라고 한다. 기술지원 종료 시 버그를 해결할 수 없기에 도입 시 확인 필요하다. 그렇다고 너무 최신 버전을 사용하는 것이 좋은 점은 아니다. 소프트웨어는 언제나 버그가 발생할 수 있고, 최신 소프트웨어는 레퍼런스도 많이 없을 수 있기에 버전 선택은 신중해야 한다.

## 초기비용과 운영비용의 조합

초기비용과 운영비용 모델은 논리적으로 3가지 조합을 생각할 수 있음

- 초기비용 있음 + 운영비용 있음: 상용 시스템용에서 가장 일반적인 모델 (Oracle, SQL Server 등)
- 초기비용 있음 + 운영비용 없음: 유지보수 계약을 맺지 않아 기술지원이 없음. 현실성이 많이 떨어지는 모델
- 초기비용 없음 + 운영비용 있음: 라이선스료를 지급하지 않고 기술지원 비용만 발생. OSS를 사용하는 케이스

## 초기비용의 트릭

아래의 경우 중 어떤 것이 더 이득으로 보이는가?

1. 단말기 가격이 600,000원, 매월 통신료는 25,000원
2. 단말기 가격이 0원, 매월 통신료는 50,000원

많은 경우 2번이 이득으로 생각한다. 하지만 2년 사용량을 보았을 시 동일하며 이후에는 2번의 운영비용이 더 많이 나가게 된다. 이렇게 2번 같이 당장의 이득을 장기적인 이득보다 우선하는 것은 `현재지향 편향(Present Bias)`이라 한다. 비용을 산정할 때 이런 점도 주의해서 운영하도록 하자.