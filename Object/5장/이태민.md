# 5장

## 책임 할당하기

### 책임 주도 설계

- 책임 중심 설계를 하기 위해선,
    - 데이터보다 행동을 먼저 결정
    - 협력이라는 문맥 안에서 책임 결정

### 데이터보다 행동을 먼저 결정하라

- 객체에게 중요한 것은 데이터가 아닌 **외부에 제공하는 행동**

### 협력이라는 문맥 안에서 책임 결정

- 어떤 메세지를 보낼 것 인지부터 결정 해야 된다.

### 책임 할당을 위한 GRASP 패턴

- GRASP : General Responsibility Assignment software Pattern(일반적인 책임 할당을 위한 소프트웨어 패턴)
    - 객체에게 책임을 할당할 때 지침으로 삼을 수 있는 원칙들의 집합
- 도메인 개념
    - 도메인 안에는 무수히 많은 개념들이 존재.
    - 이 도메인 개념들을 책임 할당의 대상으로 사용하면 코드에 도메인의 모습을 투영하기 좀 수월해짐.
    - 설계를 시작하는 단계에서는 개념들의 의미와 관계가 정확하거나 완벽할 필요 없음. → 단순히 출발점.
    

### 정보 전문가에게 책임을 할당하라

- 책임 주도 설계 방식의 첫 단계는 애플리케이션이 제공해야 하는 기능을 애플리케이션의 책임으로 생각하는 것.
    - 책임 = 애플리케이션에 대해 전송된 메시지로 간주. → 해당 메시지를 책임질 첫 번째 객체를 선택하는 것으로 설계를 시작.
    - 메시지를 객체에게 전달할 때 해당 객체는 상태와 행동을 통합한 캡슐화된 단위라는 사실에 집중. → GRASP에서는 이를 **INFORMATION EXPERT(정보 전문가) 패턴**이라고 부른다.
        - INFORMATION EXPERT 패턴 **→ 자신이 소유한 정보와 관련된 작업을 수행한다는 표현**
            - 책임을 객체에 할당하는 일반적인 원리 = 책임을 수행하는 데 필요한 정보를 가지고 있는 객체에게 할당하는 것.
            - INFORMATION EXPERT 패턴은 객체가 자율적인 존재여야 한다. 정보를 알고있는 객체만이 책임을 어떻게 수행할지 스스로 결정할 수 있기 때문.
                
                → 이렇게 되면 객체들에게 책임이 분산되고 그렇기에 더 응집력 있고 결합도도 낮아져서 간결하고 유지보수 하기 쉬운 시스템을 구축할 수 있다.
                
            

### 높은 응집도와 낮은 결합도

- 설계 = 트레이드오프 활동
- **LOW COUPLING[낮은 결합도]**
    - 의존성을 낮추고 변화의 영향을 줄이며 재사용성 증가? —> 전체적인 결합도가 낮게 유지
- **HIGH COHESION[높은 응집도]**
    - 복잡성을 관리할 수 있는 수준으로 유지? → 높은 응집도 유지
    

### 창조자에게 객체 생성 책임을 할당하라

- GRASP의 CREATOR(창조자) 패턴 → 특정 객체에게 어떠한 객체를 생성할 책임을 할당할지에 대한 지침
    - CREATOR 패턴
        - 객체 A를 생성해야 할 때 어떤 객체에게 객체 생성 책임을 할당해야 하는가?
            - B가 A 객체를 포함하거나 참조한다.
            - B가 A 객체를 기록한다
            - B가 A객체를 긴말하게 사용한다
            - B가 A객체를 초기화하는 데 필요한 데이터를 가지고 있다.
        
        → CREATOR 패턴의 의도는 어떤 방식으로든 생성되는 객체와 연결되거나 관련될 필요가 있는 객체에 해당 객체를 생성할 책임을 맡기는 것.